<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>공주구하기</title>
</head>
<body>
  <script>
    // 실패 ㅜ
    function solution(N,K){
      // N - 왕자의 수
      // K - 외치면 퇴장당하는 숫자
      let answer;
      // 왕자들이 담긴 초기 큐
      // fill(0)으로 초기화하지않으면 맵 함수를 사용할 수없다.
      let queue = new Array(N).fill(0).map((item,idx)=>(idx+1));

      // from은 유사 배열 객체들을 배열 객체로 변환시켜준다.
      // - length가 있는 객체는 유사 배열 객체다.
      // let queue=Array.from({length:N}, (v, i)=>i+1);
      // Array.from(변환시키려는 유사배열객체 , 배열의 모든 요소에대해 호출할 맵핑 함수)

      while(queue.length){
        // arr.shift() - 맨 앞의 요소를 뽑는다
        // arr.push() - 맨 뒤에 요소를 넣는다.
        for(let i = 0; i<K-1; i++){ // K=3일 때, 0,1 ( 2번 뽑기) 
          // 맨 앞 요소를 뽑아서 맨 뒤에 다시 넣는다.
          queue.push(queue.shift());
        }
        queue.shift(); // K를 외친 왕자는 뒤에 다시 넣지 않는다.

        // 한명만 남는다면 구하러 갈 왕자
        if(queue.length === 1) answer = queue.shift();
      }

      return answer;
    }

    console.log(solution(8,3))
  </script>
</body>
</html>